<!--<!doctype html>-->
<!--<html lang="pl">-->
<!--<head>-->
<!--    <meta charset="utf-8" />-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1" />-->
<!--    <title>BikeTrip – najprostszy frontend</title>-->
<!--</head>-->
<!--<body>-->
<!--<h1>BikeTrip PLANNER</h1>-->

<!--<h2>Utwórz trasę</h2>-->
<!--<form id="fCreate">-->
<!--    <div>Nazwa: <input name="name" required></div>-->
<!--    <div>Miasto: <input name="city" required></div>-->
<!--    <div>Trudność:-->
<!--        <select name="difficulty">-->
<!--            <option value="EASY">EASY</option>-->
<!--            <option value="MEDIUM">MEDIUM</option>-->
<!--            <option value="HARD">HARD</option>-->
<!--        </select>-->
<!--    </div>-->
<!--    <div>Dystans (km): <input name="distance" type="number" step="0.1" min="0" required></div>-->
<!--    <div>Czas (min): <input name="durationMin" type="number" step="1" min="0" required></div>-->
<!--    <div>Category ID (opcjonalnie): <input name="categoryId" type="number" min="1"></div>-->
<!--    <div><label><input type="checkbox" name="includeWeather"> dołącz pogodę</label></div>-->
<!--    <button>Utwórz</button>-->
<!--</form>-->
<!--<pre id="createOut"></pre>-->

<!--<hr>-->
<!--<h2>Lista tras</h2>-->
<!--<div>Miasto: <input id="cityFilter"> <button id="btnLoad">Załaduj</button></div>-->
<!--<ul id="routeList"></ul>-->

<!--<hr>-->
<!--<h2>Szczegóły trasy</h2>-->
<!--<div>Route ID: <input id="routeId" type="number" min="1"> <button id="btnDetails">Pobierz</button> <button id="btnWeather">Pogoda</button></div>-->
<!--<pre id="detailsOut"></pre>-->
<!--<pre id="weatherOut"></pre>-->

<!--<h3>Dodaj opinię</h3>-->
<!--<div>Ocena 1–5: <input id="revRating" type="number" min="1" max="5"> Treść: <input id="revContent"> <button id="btnReview">Dodaj</button></div>-->
<!--<pre id="reviewsOut"></pre>-->

<!--<script>-->
<!--    const $ = s => document.querySelector(s);-->
<!--    function toJSON(r){ if(!r.ok) return r.json().then(e=>{throw e}); return r.json(); }-->

<!--    -->
<!--    $('#fCreate').addEventListener('submit', async e => {-->
<!--        e.preventDefault();-->
<!--        const fd = new FormData(e.target);-->
<!--        const body = {-->
<!--            name: String(fd.get('name')||'').trim(),-->
<!--            city: String(fd.get('city')||'').trim(),-->
<!--            difficulty: String(fd.get('difficulty')||'EASY'),-->
<!--            distance: parseFloat(fd.get('distance')),-->
<!--            durationMin: parseFloat(fd.get('durationMin'))-->
<!--        };-->
<!--        const cat = fd.get('categoryId'); if (cat) body.categoryId = parseInt(cat,10);-->
<!--        const includeWeather = fd.get('includeWeather') === 'on';-->
<!--        try{-->
<!--            const res = await fetch(`/routes?includeWeather=${includeWeather}`, {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body)}).then(toJSON);-->
<!--            $('#createOut').textContent = JSON.stringify(res, null, 2);-->
<!--        }catch(err){ $('#createOut').textContent = JSON.stringify(err, null, 2); }-->
<!--    });-->


<!--    $('#btnLoad').addEventListener('click', async () => {-->
<!--        const city = $('#cityFilter').value.trim();-->
<!--        const url = city ? `/routes?city=${encodeURIComponent(city)}` : '/routes';-->
<!--        try{-->
<!--            const list = await fetch(url).then(toJSON);-->
<!--            const ul = $('#routeList'); ul.innerHTML = '';-->
<!--            if(!Array.isArray(list) || list.length===0){ ul.innerHTML = '<li>Brak tras</li>'; return; }-->
<!--            list.forEach(r => {-->
<!--                const li = document.createElement('li');-->
<!--                li.textContent = `#${r.id} ${r.name} (${r.city})`;-->
<!--                li.addEventListener('click', () => { $('#routeId').value = r.id; });-->
<!--                ul.appendChild(li);-->
<!--            });-->
<!--        }catch(err){ alert('Błąd listy'); }-->
<!--    });-->


<!--    $('#btnDetails').addEventListener('click', async () => {-->
<!--        const id = parseInt($('#routeId').value,10); if(!id) return;-->
<!--        try{-->
<!--            const data = await fetch(`/routes/${id}`).then(toJSON);-->
<!--            $('#detailsOut').textContent = JSON.stringify(data, null, 2);-->
<!--        }catch(err){ $('#detailsOut').textContent = JSON.stringify(err, null, 2); }-->
<!--    });-->


<!--    $('#btnWeather').addEventListener('click', async () => {-->
<!--        const id = parseInt($('#routeId').value,10); if(!id) return;-->
<!--        try{-->
<!--            const det = await fetch(`/routes/${id}`).then(toJSON);-->
<!--            const city = det.city || (det.route && det.route.city); if(!city) return;-->
<!--            const w = await fetch(`/api/weather?city=${encodeURIComponent(city)}`).then(toJSON);-->
<!--            $('#weatherOut').textContent = JSON.stringify(w, null, 2);-->
<!--        }catch(err){ $('#weatherOut').textContent = JSON.stringify(err, null, 2); }-->
<!--    });-->


<!--    $('#btnReview').addEventListener('click', async () => {-->
<!--        const id = parseInt($('#routeId').value,10);-->
<!--        const rating = parseInt($('#revRating').value,10);-->
<!--        const content = String($('#revContent').value||'').trim();-->
<!--        if(!id || !rating) return;-->
<!--        try{-->
<!--            await fetch(`/reviews/route/${id}`, {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ rating, content })}).then(toJSON);-->
<!--            const list = await fetch(`/reviews/route/${id}`).then(toJSON);-->
<!--            $('#reviewsOut').textContent = JSON.stringify(list, null, 2);-->
<!--        }catch(err){ $('#reviewsOut').textContent = JSON.stringify(err, null, 2); }-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
